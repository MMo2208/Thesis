\documentclass[12pt,a4paper]{article}

\usepackage{graphicx}
 \usepackage{subfigure} 
 \usepackage[english]{babel}
 \usepackage[format=default,font=footnotesize,labelfont=bf]{caption}
\usepackage[ansinew]{inputenc} 		%Umlaute
\usepackage[T1]{fontenc} 				%Umlaute		
\usepackage[margin=1in]{geometry}		%Randabstand
\usepackage[onehalfspacing]{setspace}	%Zeilenabstand 1,5

\usepackage{floatflt}					%Umflossene Grafiken
\usepackage{float}
\usepackage[section]{placeins}
\usepackage{afterpage}
\usepackage{tabularx}

\usepackage{fancyhdr}
\pagestyle{fancy}

\usepackage{listings}				%Codelisting
\usepackage{color}
\usepackage{acronym}				%Abkürzungen
 
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
 
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
 
\lstset{style=mystyle}


\fancyfoot{}
\fancyfoot[R]{\thepage}

\usepackage{hyperref}
\usepackage{multibib} 
\newcites{Refs,Urls}{Literaturverzeichnis,Verzeichnis der Webadressen}

\usepackage{url}

\begin{document}

%==================Deckblatt===========================%
\ \vspace{0.1cm} 
\begin{center} 

\begin{huge} 
Bachelorthesis \\ 
\end{huge}
\ \\
\vspace{1cm} 

\noindent\rule{16cm}{-2em} 
\hrule\par\rule[-1em]{0pt}{2.5em}
\begin{large}
\textbf{Development of a Web-Application\\
for executing tasks on an IBM-Mainframe\\
in the context of Education\\}
\vspace{0.3cm}
\end{large}
\hrule\par\rule{0pt}{2em}
\ \\
\vspace{1cm} 


\begin{small}
Bachelorarbeit gemäß § 17 der Allgemeinen Prüfungsordnung vom 01.08.2008 \\im Bachelorstudiengang Informationsmanagement und Unternehmenskommunikation \\an der Hochschule für angewandte Wissenschaften Neu-Ulm \\
\end {small}

\vspace{3cm} 


\end {center}

\begin{table} [!h]
\begin{tabular}{lll}

	Erstkorrektor	& 	&	Prof. Dr. Phillipp Brune \\
	Betreuer 		& 	&	Dr. Kevin Henrichs \\
	 & & \\
	Verfasser		&	&	Marc Morschhauser (Matr.-Nr.: 204041)\\
	 & & \\
	  & & \\
	   & & \\
	Thema erhalten: & & 01.01.2020 \\
	Arbeit abgegeben & & 01.05.2020 \\

\end{tabular}
\label{tab:threecols}
\end{table}


\vspace{3cm} 
\noindent\rule{7.5cm}{1pt}\hspace{1cm}\noindent\rule{7.5cm}{1pt}
\hspace*{1cm}Unterschrift des Studierenden\hspace{2.7cm}Unterschrift und Firmenstempel der \\
\hspace*{10.5cm}Ausbildungsstelle
\thispagestyle{empty}
\newpage
%==================Ende Deckblatt===========================%
\begin{center}
In association with:
\vspace{1.5cm}
\begin{figure}[h]
	\centering
	\includegraphics[scale=0.25]{img/Logos.jpg}
\end{figure}

\end{center}
\thispagestyle{empty}
\newpage
%==================Ende Logos===========================%

\pagenumbering{Roman}

\section{Abstract}
Hier kommt der/die/das Abstract.\\

\newpage

\listoffigures

\newpage
\section{List of abbreviations}
\begin{acronym}[Bash]

	 \acro{IoT}{Internet of Things}
	 \acro{I/O}{Input / Output}
 	 \acro{OS}{Operating System}
	 \acro{ULE}{Ubiquitous Learning Environment}
	 \acro{JCL}{Job Control Language}

\end{acronym}

\newpage

\tableofcontents

\newpage

\pagenumbering{arabic}




%===========Main Content=========%
\setcounter{page}{3}
%\begin{onehalfspacing}

\newpage

\section{Introduction}
Big Data, Cloud, Blockchain, \ac{IoT}  - Digitalization is steadily proceeding and with it the amount of data that has to be processed every day. Many web-services at this point are dependent on flexibility in first place. Big server farms facilitate an unprecedented agility to operators of online-businesses referring to their resource-planning. Urgent situations with high data traffic can be handled by adding physical or also virtual servers within minutes. However there are services where minutes make the difference between millions of euros. Those services demand for information technology, which not only has a high data throughput but also ensures the highest availability. The IBM Mainframe in its newest construction provides an \ac{I/O} of over 800GB per second while being available 99,999\% of the time running. This makes the Mainframe a cornerstone in present finance-sector's IT-management. Due to it's security and it's high speed it also finds it's use in other big industries - thus also insurances, the aerospace industry or big retail companies benefit from this supercomputer.\\
But since the IT improved considerably over the last decades, the Mainframe was presumed dead and many companies discontinued training their staff to maintain this technology. Contrary to their expectations they are dependent on it till today and they will presumably be in the remote future. What is left is a big gap in the division of skilled professionals that is hard to close.\\
The Goethe-University in Frankfurt, Germany, attends to participate in closing this gap. Therefore the university procured one of the aforementioned IBM supercomputers to train their students dealing with it.\\
\ \\
This Bachelor Thesis approaches a Front-End-Application, which will be running on a Linux Virtual-Machine but executing tasks on the mainframe's \ac{OS} called z/OS. By building this bridge between the Linux VM and the z/OS, students will be able to get in touch with the Mainframe located in Frankfurt University through a web-browser and as a consequence experience how the system is working.\\
\ \\
The resources for this activity are allocated by the \textit{Talentschmiede AG} - a Frankfurt located IT consultancy which is in close contact to the finance sector and knows and cares about the gap of skilled professionals. Further it is supported by the \textit{Academic Mainframe Consortium e.V.} - an association founded by Mainframe Experts which are also willing to acquire new educated staff in the division of Mainframe.
\newpage

\section{Related Work}
While a malicious tongue once suggested that " the last mainframe will be unplugged in 1996 " , it reconsidered when IBM introduced it's latest version of it in 2008 \cite{lohr2008old}. Till the present day the mainframe is the backbone of the financial markets worldwide and just as important for other big industries\cite{carayannisenterprise} \cite{lohr2006ibm}.
The view on the mainframe technology as an IT-dinosaur has to change and the need of adding the mainframe technology to the IS Curriculum in a wide range was overdue already 10 years before \cite{wallis2007s} \cite{wong2009old} \cite{douglas2009enterprise}. Sharma et al. analysed the need of Large System Education regarding to mainframe education and they are investigating " the   academic response   to   the   need   for   large   systems specialists " \cite{sharma2011teach}. In \cite{corridori2009ways} A. Corridori addresses the concerns and the opportunites that come with adding mainframe content to universities curricula and also previews ways to do this. How the economy and with it, the labor market can benefit from it is stated in \cite{sharmaalive}. \\
\ \\
The potentials of present digital media used to educate in a wide range is discovered by Cope et al. \cite{cope2009ubiquitous}. It is described that "the learner's  relationship  to knowledge  and  the  processes  of  pedagogy  have  not  changed  in  any  significant  way" but through technology " the educational paradigm has changed ". Vicki Jones et al. also address the integration of modern information technology in everyday's life and the advantages of this change regarding education \cite{jones2004ubiquitous}. Here it is stated that " Adaptive learning can offer great advantages in providing students with specific and personalised knowledge as and when required ". While the term " Adaptive Learning " is responsive to the methods that are used to transfer knowledge \cite{midgley2014goals} , " \ac{ULE} " describes an environment with the possibility of learning everywhere and anytime\cite{hwang2008criteria}. Hwang et al. emphasize the fact, that ULEs are an innovative approach for teaching complex topics \cite{hwang2009context}. To establish a ULE there are many technologies needed \cite{sakamura2005ubiquitous}, this thesis is supposed to do a first step in this direction to learn on the Mainframe anywhere and anytime.\\

\ \\
......


\newpage

\section{Research gap}
\newpage

\section{Anforderungen}
\newpage

\section{Dive into \ac{JCL}}
\ \\
\begin{figure}[h]
	\centering
	\includegraphics[scale=0.25]{img/JCL-1.jpg}
	\caption{JCL Functionality}
	\label{JCL Functionality}
\end{figure}
\\
- Not really a language like java etc. more like Job Control "Statements" that tell the OS what to do\\
-each statement 80characters\\
-JCL is introduced with // \\
-z/OS has written (hard coded) application programs -not associated with any physical resources, just names -which include internal file-names -> through JCL those programs can be opened for reading and writing during execution.\\
-JCL links the program file names with physical resources (e.g. data set names or unix file names).\\
--JCL is used to process programs in the background ("batch")\\
- And to process programs in the foreground("started task")\\
-JCL instruct z/OS -> Start / submit
- JCL SUBMIT Statement will result in batch process of one or more programs (BACKGROUND)\\
- JCL START will result in FOREGROUND processing of a processing program\\
\ \\
Syntax Fundamentals
Every Batch Job must contain JOB-statement \& EXEC statement\\
->JOB statement highlight the beginning of a batch job \& assigns a name to the job\\
JCL started tasks do not require a JOB Statement
->both have at least one EXEC statement -> marks the beginning of a job step , assigns name to the step \& identifies the program or procedure to be executed in the step.


\section{Development Environment}
In this chapter, a development environment will be created. An Oracle Virtual-Machine called VirtualBox will be installed on MacOSX. In this virtual machine the open and free Linux-System Ubuntu 16.04 LTS will be running, to make it possible to implement an Apache HTTP-Server. The Apache Server makes it possible to develop a simple dynamic website offline on a localhost that can be accessed through any web-browser as long as the virtual machine is running.\\
\\Schematische Darstellung!!


\newpage

\section{Die Entwicklungsumgebung}
In diesem Kapitel soll eine optimale Entwicklungsumgebung für das Projekt geschaffen werden. Hierfür wird ein Apache Web-Server innerhalb einer virtuellen Linux-Partition implementiert. Sowohl Linux als auch bei Apache handelt es sich um freie open-source Projekte.\\
-Kostenersparnis durch open-source projekte?!-\\
-Gründe für Linux / Apache ???!-



\subsection{Einrichten einer Linux-VM}
Passend für den Apache Web-Server ist die Ubuntu Server GUI. \\
Installiert wird diese in der Virtual-Box von Oracle. \\

Für dieses Vorhaben wird die Ubuntu Version Server 16.04.3 LTS herangezogen.\\
\ \\

VirtualBox wird als Maschine verwendet, um den Linux-Server zu beherbergen.\\
Hier wird eine neue Virtuelle Maschine erstellt. \\
Dem Projekt wird der Name sandbox verliehen, was eine isolierte,  von der Öffentlichkeit -zunächst- abgeschottete Umgebung impliziert. Zusätzlich wird hier bereits von Anfang an festgelegt, dass es sich um einen Linux und genauer um eine 64-Bit VM mit dem Ubuntu OS handeln soll.\\
Eine dynamische HDD Zuweisung sorgt dafür, dass die Servergröße nicht um Vorhinein festgelegt werden muss, sondern mitwächst, sollte mehr Speicherplatz benötigt werden. Die Größe ist natürlich durch die lokale Festplatte  begrenzt. \\Erklärung localhost!?\\

Um eine lokale Entwicklung auf diesem Server zu ermöglichen, sind einige Konfigurationen nötig.\\
Neben der Bereitstellung der richtigen Linux-Version (Für dieses Vorhaben wird die Ubuntu Version Server 16.04.3 LTS herangezogen.) wird hier die Verteilung der Virtual Machine auf die verfügbaren CPUs und die damit verbundene Auslastung eingestellt. (2 CPU - 100\% - wichtig????!)\\
\ \\
Wichtige Einstellungen im Bereich Netzwerk:\\
NAT - Network Adress Translation - hier werden die Ports eingestellt über welche die VM kommuniziert.\\
Portweiterleitung??!?!?\\
Alle wichtig für lokal development\\
Rule1: Apache / TCP / -empty for any ip / Host: 8080 / Guest : 80 for default HTTP-port for web traffic\\
->Apache - Webbrowser\\
Rule 2: MySQL / TCP / Host: 9306 / Guest: 3306\\
->Verbindung zu MySQL server -> debugging uploading etc.\\
Rule 3: MailCatcher / / 1080 / 1080\\
Receive only Mail-server, dass nicht zufällig E-Mails versandt werden\\
Rule 4: SSH / 2222 / / 22\\
Hierüber kann die VM über die Kommandozeile gesteuert werden\\
- bidirectional - traffic I/O\\
Firewall erwähnen!!! - ist auf den meisten Systemen bereits vorhanden \\
Ports einstellen ist aber kein Ersatz für eine Firewall -- siehe später in squid\\
Auf dem lokalen System -Mac- wird ein Ordner erstellt -sandbox- welcher als gemeinsamer Ordner automatisch eingebunden wird.\\
\ \\
Ubuntu installieren:\\
sudo - superuser do - benötigt um root-befehle zu geben\\
LAMP server für apache / OpenSSH für SSH zugriff\\
localhost - der eigene Computer wird via Loopback zugegriffen!? \\
Ändern des Hostname am Mac für die VM zu sandbox.dev \\
->Aufrufen der hosts datei -> Terminal\\

\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo nano /etc/hosts
\end{lstlisting}
\end{center}

add 127.0.0.1	sandbox.dev\\
Nun kann man sich mit folgendem Befehl auf der VM einloggen.\\
\begin{center}
\begin{lstlisting}[language=HTML]
$ ssh sandbox.dev
\end{lstlisting}
\end{center}

Um nicht jedes mal ein PW eingeben zu müssen und um man-in-the-middle-Attacken zu verhindern, werden nun keys generiert.\\

\begin{center}
\begin{lstlisting}[language=HTML]
$ ssh-keygen -t rsa -C "username@example.com"
\end{lstlisting}
\end{center}

Nun kann noch ein extra pw eingegeben werden, aber da es eine lokale Installation ist, wird das nicht gemacht.\\

Wenn der Private key generiert wurde, wird noch ein public key generiert.\\


\begin{center}
\begin{lstlisting}[language=HTML]
$ ssh -p2222 marc@sandbox.dev mkdir -p .ssh
\end{lstlisting}
\end{center}

Um sich nun direkt auf den Server einloggen zu können:\\

\begin{center}
\begin{lstlisting}[language=HTML]
$ cat ~/.ssh/id_rsa.pub | ssh -p2222 marc@sandbox.dev 'cat >> .ssh/authorized_keys'
\end{lstlisting}
\end{center}

Da nun immer noch ssh -p2222 marc@sandbox.dev geschrieben werden muss - wird die config datei verändert.

\begin{center}
\begin{lstlisting}[language=HTML]
$ nano ~/.ssh/config
\end{lstlisting}
\end{center}

Edit:

Host sandbox.dev
        Port 2222
        User marc

Nun kann man sich einfach mit ssh sandbox.dev auf den Server einloggen (lokal).\\

\ \\


\subsection{Einrichten eines Apache Web-Servers}
Um den Web-Server zu konfigurieren wird dieser zuerst auf den neuesten Stand gebracht.\\
apt - advanced packages tool (packages erklären?!)\\
\ \\
\ \\
ssh sandbox.dev soll nicht jedes mal erwähnt werden.. Abgrenzen mit Farben wann man eingeloggt ist und wann nicht!?
\ \\
\ \\
Da die Installation-disc nicht alle updates beinhaltet: Für alle neuen Installationen und Fehlerbehebungen:\\
- Update -> update list of available packages
\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo apt-get update
\end{lstlisting}
\end{center}

Nun müssen alle erworbenen packages auf den neuesten Stand gebracht werden.
- Upgrade -> upgrade currently installed software
\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo apt-get upgrade 
\end{lstlisting}
\end{center}

Virtual-Box-Integration:\\
Virtual Box verfügt über ein Add-On -> Guest Additions.\\
-> Eine Ansammlung von Treibern und System Programmen -> diese optimieren das OS für Performance und Usability.\\
Dies wird zB beim Filesharing gebraucht - zwischen Host und Guest.\\

\ \\
Man benötigt: build-essential --> tools for compiling\\
und virtual-box-dkms --> Dynamic Kernel Module Support\\
module-assistant --> handles module source packages\\

\ \\
Additional Software?! s. Bilder\\

\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo apt-get install build-essential virtualbox-dkms nano zip unzip curl man-db acpid git module-assistant
\end{lstlisting}
\end{center}

--> sudo reboot\\

--> log back in ssh....\\

\subsubsection{Installation Guest-Additions}
Install Virtual-Box Guest Additions to share Data betw. Guest and hosts:
the shared folder will be %/media/sf_sandbox\\
\ \\
Der mount-command wird benutzt um the device file system to the file tree zu attachen.\\
Man kann auf verschiedenen Content zugreifen - wie zb eine CD.\\
Es wird eine virtuelle CD in das virtuelle Laufwerk der virtualBox gelegt um die Guest Additions zu laden.\\
Zum mounten benötigt man ein device und ein directory\\
\ \\
-> Device: dev cdrom (immer mit slashes)\\
-> directory: media cdrom\\
\ \\
Erstmal die CD einlegen -> Devices -> Insert.... Screenshot!?\\
\ \\ 
Durch ls -la /dev oder /media schauen ob die cdrom files da sind?!
\ \\


Dann mounten:
\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo mount /dev/cdrom /media/cdrom
\end{lstlisting}
\end{center}

Das Terminal zeigt: 

\begin{center}
\begin{lstlisting}[language=HTML]
mount: /dev/sr0 is write-protected, mounting read-only
\end{lstlisting}
\end{center}
Das ist normal. Wie bei einer cd.\\


Nun werden die Guest Additions installiert.\\
\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo sh /media/cdrom/VBoxLinuxAdditions.run --nox11
\end{lstlisting}
\end{center}

--> sudo reboot und ssh back again.\\

Check die geladenen modules.

\begin{center}
\begin{lstlisting}[language=HTML]
$ lsmod | grep vbox
\end{lstlisting}
\end{center}

grep erklären -> vboxsf muss vorhanden sein - shared folder.\\

Nun sollte der media folder überprüft werden:
\begin{center}
\begin{lstlisting}[language=HTML]
$ ls -la /media
\end{lstlisting}
\end{center}
Hier sollte ein Verzeichnis cdrom und ein sf\_sandbox vorhanden sein!!!!\\




\ \\
sh-Command - built in command interpreter
lsmod - lists (s. Bilder)\\


\subsubsection{Zugang zu sf}
Nun muss Zugang zu den shared Folders gewährleistet werden.\\

Da der Ordner sf\_sandbox nicht root sondern Gruppe vboxsf ist hat man bisher keinen Zugriff auf diesen Ordner. Hier für muss der Zugang gewährleistet werden.\\
Für den user marc: \\
\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo usermod -a -G vboxsf marc
\end{lstlisting}
\end{center}

Der Zugang erfolgt nach einmaligem logout. -> logout -> ssh -> Zugang sollte da sein.\\
Der Apache server hat den usernamen www-data -> Dieser braucht ebenfalls zugang zum sf.\\

\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo usermod -a -G vboxsf www-data
\end{lstlisting}
\end{center}


\subsubsection{Linux Konfiguration für den Apache Server}
Der Server weis bisher noch nichts von sf.\\

command sudoedit - overwrite original file:\\
vboxsf - HTTP Apache configuration - copy paste from exercise files\\
wie soll das gehändelt werden??\\

\begin{center}
\begin{lstlisting}[language=HTML]
$ sudoedit sites-available/vboxsf.conf
\end{lstlisting}
\end{center}


Als nächstes die Ports konfigurieren:\\
Apache läuft eigt auf 80 - es wurde aber auf 8080 weiter geleitet\\
ports.conf -> verändern\\

\begin{center}
\begin{lstlisting}[language=HTML]
$ sudoedit ports.conf
\end{lstlisting}
\end{center}

Unter Listen 80 noch Listen 8080 hinzufügen.\\

Managing Apache Sites in Ubuntu s. Bilder \\
\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo a2ensite vboxsf
\end{lstlisting}
\end{center}
\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo a2dissite 000-default
\end{lstlisting}
\end{center}

Managing Apache Modules in Ubuntu s. Bilder \\

\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo a2enmod rewrite vhost_alias
\end{lstlisting}
\end{center}

\ \\
Danach muss der Server neu gestartet werden. Weil Apache neue Group-permissions braucht außerdem wurden die server functionality gechanged durch die modules.\\
\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo service apache2 restart
\end{lstlisting}
\end{center}

Ob der Server funktioniert kann über den Browser herausgefunden werden
\begin{center}
\begin{lstlisting}[language=HTML]
sandbox.dev:8080/server-status
\end{lstlisting}
\end{center}
s.Bilder\\

\subsubsection{PHP Konfiguration}
Da das Front-End in PHP geschrieben werden soll, müssen hier Vorkehrungen getroffen werden.
PHP ist bereits installiert, muss aber für die Entwicklung noch konfiguriert werden.\\
\begin{center}
\begin{lstlisting}[language=HTML]
$ sudoedit /etc/php/7.0/mods-available/phpcustom.ini
\end{lstlisting}
\end{center}


\begin{center}
\begin{lstlisting}[language=HTML]
; Custom shared config
; priority=01
error_reporting=E_ALL
display_errors=On
display_startup_errors=On
error_log=/var/log/php_errors.log
log_errors_max_len=0
memory_limit=256M
post_max_size=100M
upload_max_filesize=100M
\end{lstlisting}
\end{center}

Apache weis nun wo er die errors während der Programmierung hinschreiben soll aber das File exisiert noch nicht.\\
File error\_log erstellen\\
touch command erklären

\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo touch /var/log/php_errors.log
\end{lstlisting}
\end{center}

Permission to read and write to the server.\\
chown-command - change owner and group of files.\\

PHP-App Frameworks s-Bilder\\

\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo apt-get install php-mcrypt php-intl php-sqlite3 php-mbstring php-xml php-gd -y
\end{lstlisting}
\end{center}

Zwei frameworks müssen enabled werden.

\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo phpenmod mbstring simplexml
\end{lstlisting}
\end{center}

sudo service apache2 restart

\subsubsection{MailCatcher}

Benötigte Pakete
\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo apt-get install libsqlite3-dev ruby-dev -y
\end{lstlisting}
\end{center}

Mailcatcher selbst installieren

\begin{center}
\begin{lstlisting}[language=HTML]
$ sudo gem install mailcatcher
\end{lstlisting}
\end{center}

Testmail
\begin{center}
\begin{lstlisting}[language=HTML]
$ php -a
php > mail('target@example.com', 'Testmail', 'Was geht ab', 'From:source@example.com');
\end{lstlisting}
\end{center}


\newpage

\section{Design}
Once the Server is up and running a framework for programming the website is needed to save time and make the application stable and safe in the end. For this Application the choice is a PHP-Framework named Laravel. \\
\\Laravel Begründung?!

At the beginning, the admin-section will be implemented to create users, which will be granted to have access to the Mainframe-Training-Units.\\
\begin{figure}[h]
	\centering
	\includegraphics[scale=0.4]{img/Schemepage.jpg}
	\caption{schematic presentation of the admin/user-section}
	\label{schematic presentation of the admin/user-section}
\end{figure}
\\

\subsection{MVC-Framework}
Laravel is a framework that follows the MVC-Pattern. MVC stands for Model-View-Controller.
\begin{figure}
	\centering
	\includegraphics[scale=0.5]{img/MVC.jpg}
	\caption{Model-View-Controller Pattern}
	\label{Model-View-Controller Pattern}
\end{figure}
\\
\subsubsection{Routing explained}
Routes are established (unter anderem) in the web.php file. In the example we see the Routings that are triggering the AdminsController - the @ triggers a function that is listed in this controller. For example create.
\begin{center}
\begin{lstlisting}[language=PHP]
/* Admin Routing */
Route::get('/admin', 'AdminsController@admin')->name('admin_view');
Route::get('/admin/alter', 'AdminsController@alter')->name('alter_user');
Route::get('/admin/create', 'AdminsController@newUser')->name('new_user');
Route::post('/admin/create', 'AdminsController@create')->name('create_user');
Route::get('/admin/{user_id}', 'AdminsController@show')->name('show_user');
Route::post('/admin/{user_id}', 'AdminsController@modify')->name('update_user');
\end{lstlisting}
\end{center}

The names help to navigate to the pages in an easier manner. With blade you can just define the link to the named paged.\\
\\Blade kurz erklären.

\begin{center}
\begin{lstlisting}[language=HTML]
<a class="hollow button" href="{{ route('show_user', ['user_id' => 1 ]) }}">EDIT</a>
\end{lstlisting}
\end{center}

The create function does nothing but return the view / the file 'createuser.php' that is located in the folder 'admin'.
\begin{center}
\begin{lstlisting}[language=PHP]
    public function create()
    {
      return view('admin/createuser');
    }
\end{lstlisting}
\end{center}

But within the Controller, also different types of data can be generated and passed to the view.\\
In this example hard coded user data is passed to the view 'overview'

\begin{center}
\begin{lstlisting}[language=PHP]
    public function admin()
    {

            $data = [];                     			//data als leeres array definieren

            $obj = new \stdClass;
            $obj->id = 1;
            $obj->title = 'mr';
            $obj->name = 'john';
            $obj->last_name = 'doe';
            $obj->email = 'john@domain.com';
            
            $data['users'][] = $obj;      		//data wird als obj definiert

      return view('admin/overview', $data); 	//pass data to view
    }
\end{lstlisting}
\end{center}

While there will be a view to Add a new user and to modify an existing one, due to the controller there is no need to have two different pages / forms for that. There is just on file containing the form that can be used for both - editing and creating. The File here is form.php\\
In the controller there will be two functions.

\begin{center}
\begin{lstlisting}[language=PHP]
/* 1st Function */
    public function newUser() 
    {
      $data = [];
      $data['modify'] = 0;
      return view('admin/form', $data);
    }

/* 2nd Function */
    public function show($users_id)
    {
      $data = [];
      $data['modify'] = 1;
      return view('admin/form', $data);
    }
\end{lstlisting}
\end{center}

While they both show the same view 'admin/form', the passed data is different. The modify-sequence on line 5 and 13 enables the view to differentiate whether the passed data should be reorganized or added to the database.
This becomes possible through an action that is allocated in the form.php file.
\begin{center}
\begin{lstlisting}[language=PHP]
        <form action="{{ $modify == 1 ? route('update_user', [ 'user_id' => 1]) : route('create_user') }}" method="post">
\end{lstlisting}
\end{center}
Here the status of \$modify is queried and based on this decision the view routes to a particular function that is defined in the AdminsController. If the user is modified, a user-id has to be set.\\

\newpage
\section{Proof of Concept}
\section{Evaluation}

\newpage





%\end{onehalfspacing}

\newpage
\bibliographystyle{plain}
\bibliography{bibfile}


\newpage
\section{Appendices}






\end{document}